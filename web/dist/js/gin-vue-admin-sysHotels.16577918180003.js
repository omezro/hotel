/*! 
 Build based on gin-vue-admin 
 Time : 1657791818000 */
var e=Object.defineProperty,l=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,o=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,l,a)=>new Promise(((t,o)=>{var n=e=>{try{i(a.next(e))}catch(l){o(l)}},u=e=>{try{i(a.throw(e))}catch(l){o(l)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,u);i((a=a.apply(e,l)).next())}));import{g as u,a as i,f as r,d,c as s,u as m}from"./gin-vue-admin-sysHotels.16577918180002.js";import{f as p,a as c}from"./gin-vue-admin-format.1657791818000.js";import{r as v,b as f,o as g,c as b,d as h,e as y,w as V,h as w,t as _,y as k,X as x,i as z}from"../gva/gin-vue-admin-index.1657791818000.js";import"./gin-vue-admin-date.1657791818000.js";import"./gin-vue-admin-dictionary.1657791818000.js";import"./gin-vue-admin-sysDictionary.1657791818000.js";const C={class:"gva-search-box"},I=w("查询"),j=w("重置"),U={class:"gva-table-box"},D={class:"gva-btn-list"},T=w("新增"),O=h("p",null,"确定要删除吗？",-1),A={style:{"text-align":"right","margin-top":"8px"}},S=w("取消"),P=w("确定"),H=w("删除"),B=w("变更"),M=w("删除"),E={class:"gva-pagination"},X={class:"dialog-footer"},q=w("取 消"),F=w("确 定"),G={name:"SysHotels"},J=Object.assign(G,{setup(e){const G=v({name:"",platform:!1,manager:"",settlementType:"",transferAccount:"",signatory:"",phone:0,mark:"",roomId:0}),J=v(1),K=v(0),L=v(10),N=v([]),Q=v({}),R=()=>{Q.value={}},W=()=>{J.value=1,L.value=10,""===Q.value.platform&&(Q.value.platform=null),$()},Y=e=>{L.value=e,$()},Z=e=>{J.value=e,$()},$=()=>n(this,null,(function*(){const e=yield u(((e,n)=>{for(var u in n||(n={}))a.call(n,u)&&o(e,u,n[u]);if(l)for(var u of l(n))t.call(n,u)&&o(e,u,n[u]);return e})({page:J.value,pageSize:L.value},Q.value));0===e.code&&(N.value=e.data.list,K.value=e.data.total,J.value=e.data.page,L.value=e.data.pageSize)}));$();(()=>{n(this,null,(function*(){}))})();const ee=v([]),le=e=>{ee.value=e},ae=v(!1),te=()=>n(this,null,(function*(){const e=[];if(0===ee.value.length)return void z({type:"warning",message:"请选择要删除的数据"});ee.value&&ee.value.map((l=>{e.push(l.ID)}));0===(yield i({ids:e})).code&&(z({type:"success",message:"删除成功"}),N.value.length===e.length&&J.value>1&&J.value--,ae.value=!1,$())})),oe=v(""),ne=e=>n(this,null,(function*(){const l=yield r({ID:e.ID});oe.value="update",0===l.code&&(G.value=l.data.resysHotels,ie.value=!0)})),ue=e=>n(this,null,(function*(){0===(yield d({ID:e.ID})).code&&(z({type:"success",message:"删除成功"}),1===N.value.length&&J.value>1&&J.value--,$())})),ie=v(!1),re=()=>{oe.value="create",ie.value=!0},de=()=>{ie.value=!1,G.value={name:"",platform:!1,manager:"",settlementType:"",transferAccount:"",signatory:"",phone:0,mark:"",roomId:0}},se=()=>n(this,null,(function*(){let e;switch(oe.value){case"create":default:e=yield s(G.value);break;case"update":e=yield m(G.value)}0===e.code&&(z({type:"success",message:"创建/更改成功"}),de(),$())}));return(e,l)=>{const a=f("el-button"),t=f("el-form-item"),o=f("el-form"),n=f("el-popover"),u=f("el-table-column"),i=f("el-table"),r=f("el-pagination"),d=f("el-input"),s=f("el-switch"),m=f("el-dialog");return g(),b("div",null,[h("div",C,[y(o,{inline:!0,model:Q.value,class:"demo-form-inline"},{default:V((()=>[y(t,null,{default:V((()=>[y(a,{size:"small",type:"primary",icon:"search",onClick:W},{default:V((()=>[I])),_:1}),y(a,{size:"small",icon:"refresh",onClick:R},{default:V((()=>[j])),_:1})])),_:1})])),_:1},8,["model"])]),h("div",U,[h("div",D,[y(a,{size:"small",type:"primary",icon:"plus",onClick:re},{default:V((()=>[T])),_:1}),y(n,{visible:ae.value,"onUpdate:visible":l[2]||(l[2]=e=>ae.value=e),placement:"top",width:"160"},{reference:V((()=>[y(a,{icon:"delete",size:"small",style:{"margin-left":"10px"},disabled:!ee.value.length,onClick:l[1]||(l[1]=e=>ae.value=!0)},{default:V((()=>[H])),_:1},8,["disabled"])])),default:V((()=>[O,h("div",A,[y(a,{size:"small",type:"text",onClick:l[0]||(l[0]=e=>ae.value=!1)},{default:V((()=>[S])),_:1}),y(a,{size:"small",type:"primary",onClick:te},{default:V((()=>[P])),_:1})])])),_:1},8,["visible"])]),y(i,{ref:"multipleTable",style:{width:"100%"},"tooltip-effect":"dark",data:N.value,"row-key":"ID",onSelectionChange:le},{default:V((()=>[y(u,{type:"selection",width:"55"}),y(u,{align:"left",label:"日期",width:"180"},{default:V((e=>[w(_(k(p)(e.row.CreatedAt)),1)])),_:1}),y(u,{align:"left",label:"酒店名称",prop:"name",width:"120"}),y(u,{align:"left",label:"登陆平台:1-携程,2-飞猪,3-美团",prop:"platform",width:"120"},{default:V((e=>[w(_(k(c)(e.row.platform)),1)])),_:1}),y(u,{align:"left",label:"酒店经理姓名",prop:"manager",width:"120"}),y(u,{align:"left",label:"结算方式",prop:"settlementType",width:"120"}),y(u,{align:"left",label:"转账账户",prop:"transferAccount",width:"120"}),y(u,{align:"left",label:"签约人",prop:"signatory",width:"120"}),y(u,{align:"left",label:"催单电话",prop:"phone",width:"120"}),y(u,{align:"left",label:"备注",prop:"mark",width:"120"}),y(u,{align:"left",label:"房型ID",prop:"roomId",width:"120"}),y(u,{align:"left",label:"按钮组"},{default:V((e=>[y(a,{type:"text",icon:"edit",size:"small",class:"table-button",onClick:l=>ne(e.row)},{default:V((()=>[B])),_:2},1032,["onClick"]),y(a,{type:"text",icon:"delete",size:"small",onClick:l=>{return a=e.row,void x.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{ue(a)}));var a}},{default:V((()=>[M])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),h("div",E,[y(r,{layout:"total, sizes, prev, pager, next, jumper","current-page":J.value,"page-size":L.value,"page-sizes":[10,30,50,100],total:K.value,onCurrentChange:Z,onSizeChange:Y},null,8,["current-page","page-size","total"])])]),y(m,{modelValue:ie.value,"onUpdate:modelValue":l[12]||(l[12]=e=>ie.value=e),"before-close":de,title:"弹窗操作"},{footer:V((()=>[h("div",X,[y(a,{size:"small",onClick:de},{default:V((()=>[q])),_:1}),y(a,{size:"small",type:"primary",onClick:se},{default:V((()=>[F])),_:1})])])),default:V((()=>[y(o,{model:G.value,"label-position":"right","label-width":"80px"},{default:V((()=>[y(t,{label:"酒店名称:"},{default:V((()=>[y(d,{modelValue:G.value.name,"onUpdate:modelValue":l[3]||(l[3]=e=>G.value.name=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"登陆平台:1-携程,2-飞猪,3-美团:"},{default:V((()=>[y(s,{modelValue:G.value.platform,"onUpdate:modelValue":l[4]||(l[4]=e=>G.value.platform=e),"active-color":"#13ce66","inactive-color":"#ff4949","active-text":"是","inactive-text":"否",clearable:""},null,8,["modelValue"])])),_:1}),y(t,{label:"酒店经理姓名:"},{default:V((()=>[y(d,{modelValue:G.value.manager,"onUpdate:modelValue":l[5]||(l[5]=e=>G.value.manager=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"结算方式:"},{default:V((()=>[y(d,{modelValue:G.value.settlementType,"onUpdate:modelValue":l[6]||(l[6]=e=>G.value.settlementType=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"转账账户:"},{default:V((()=>[y(d,{modelValue:G.value.transferAccount,"onUpdate:modelValue":l[7]||(l[7]=e=>G.value.transferAccount=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"签约人:"},{default:V((()=>[y(d,{modelValue:G.value.signatory,"onUpdate:modelValue":l[8]||(l[8]=e=>G.value.signatory=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"催单电话:"},{default:V((()=>[y(d,{modelValue:G.value.phone,"onUpdate:modelValue":l[9]||(l[9]=e=>G.value.phone=e),modelModifiers:{number:!0},clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"备注:"},{default:V((()=>[y(d,{modelValue:G.value.mark,"onUpdate:modelValue":l[10]||(l[10]=e=>G.value.mark=e),clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1}),y(t,{label:"房型ID:"},{default:V((()=>[y(d,{modelValue:G.value.roomId,"onUpdate:modelValue":l[11]||(l[11]=e=>G.value.roomId=e),modelModifiers:{number:!0},clearable:"",placeholder:"请输入"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"])])}}});export{J as default};
